/*! Tablesaw - v0.1.6 - 2014-07-23
* https://github.com/filamentgroup/tablesaw
* Copyright (c) 2014 Filament Group; Licensed MIT */
;(function(b){var d=document.createElement("div"),a=d.getElementsByTagName("i"),c=b(document.documentElement);d.innerHTML="<!--[if lte IE 8]><i></i><![endif]-->";if(a[0]){c.addClass("ie-lte8")}if(!("querySelector" in document)||(window.blackberry&&!window.WebKitPoint)||window.operamini){return}else{c.addClass("tablesaw-enhanced");b(function(){b(document).trigger("enhance.tablesaw")})}})(jQuery);(function(g){var f="table",e={toolbar:"tablesaw-bar"},d={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh"},c="stack",b="table[data-mode],table[data-sortable]";var a=function(h){if(!h){throw new Error("Tablesaw requires an element.")}this.table=h;this.$table=g(h);this.mode=this.$table.attr("data-mode")||c;this.init()};a.prototype.init=function(){if(!this.$table.attr("id")){this.$table.attr("id",f+"-"+Math.round(Math.random()*10000))}this.createToolbar();var h=this._initCells();this.$table.trigger(d.create,[this.mode,h])};a.prototype._initCells=function(){var i,j=this.table.querySelectorAll("thead tr"),h=this;g(j).each(function(){var k=0;g(this).children().each(function(){var m=parseInt(this.getAttribute("colspan"),10),n=":nth-child("+(k+1)+")";i=k+1;if(m){for(var l=0;l<m-1;l++){k++;n+=", :nth-child("+(k+1)+")"}}this.cells=h.$table.find("tr").not(g(j).eq(0)).not(this).children(n);k++})});return i};a.prototype.refresh=function(){this._initCells();this.$table.trigger(d.refresh)};a.prototype.createToolbar=function(){var h=this.$table.prev("."+e.toolbar);if(!h.length){h=g("<div>").addClass(e.toolbar).insertBefore(this.$table)}this.$toolbar=h;if(this.mode){this.$toolbar.addClass("mode-"+this.mode)}};a.prototype.destroy=function(){this.$table.prev("."+e.toolbar).each(function(){this.className=this.className.replace(/\bmode\-\w*\b/gi,"")});g(window).off("resize."+this.$table.attr("id"));this.$table.trigger(d.destroy,[this.mode]);this.$table.removeAttr("data-mode");this.$table.removeData(f)};g.fn[f]=function(){return this.each(function(){var i=g(this);if(i.data(f)){return}var h=new a(this);i.data(f,h)})};g(document).on("enhance.tablesaw",function(h){g(h.target).find(b)[f]()})}(jQuery));(function(f,e,g){var b={stackTable:"tablesaw-stack",cellLabels:"tablesaw-cell-label"};var d={obj:"tablesaw-stack"};var a={labelless:"data-no-labels"};var c=function(h){this.$table=e(h);this.labelless=this.$table.is("["+a.labelless+"]");if(!this.labelless){this.allHeaders=this.$table.find("th")}this.$table.data(d.obj,this)};c.prototype.init=function(i){this.$table.addClass(b.stackTable);if(this.labelless){return}var h=e(this.allHeaders);h.each(function(){var j=e(this.cells),n=j.not(this).filter("thead th").length&&" tablesaw-cell-label-top",m=e(this).text();if(m!==""){if(n){var l=parseInt(e(this).attr("colspan"),10),k="";if(l){k="td:nth-child("+l+"n + "+(i)+")"}j.filter(k).prepend("<b class='"+b.cellLabels+n+"'>"+m+"</b>")}else{j.prepend("<b class='"+b.cellLabels+"'>"+m+"</b>")}}})};c.prototype.destroy=function(){this.$table.removeClass(b.stackTable);this.$table.find("."+b.cellLabels).remove()};e(document).on("tablesawcreate","table",function(j,k,h){if(k==="stack"){var i=new c(this);i.init(h)}});e(document).on("tablesawdestroy","table",function(h,i){if(i==="stack"){e(this).data(d.obj).destroy()}})}(this,jQuery));