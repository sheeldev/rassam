!function(e,t){"function"==typeof define&&define.amd?define(["chartist"],function(s){return e.returnExportsGlobal=t(s)}):"object"==typeof exports?module.exports=t(require("chartist")):e["Chartist.plugins.legend"]=t(e.Chartist)}(this,function(e){"use strict";var t={className:"",classNames:!1,removeAll:!1,legendNames:!1,clickable:!0,onClick:null,position:"top"};return e.plugins=e.plugins||{},e.plugins.legend=function(s){function a(e,t){return e-t}if(s&&s.position){if(!("top"===s.position||"bottom"===s.position||s.position instanceof HTMLElement))throw Error("The position you entered is not a valid position");if(s.position instanceof HTMLElement){var i=s.position;delete s.position}}return s=e.extend({},t,s),i&&(s.position=i),function t(i){var n=i.container.querySelector(".ct-legend");if(n&&n.parentNode.removeChild(n),s.clickable){var o=i.data.series.map(function(t,s){return"object"!=typeof t&&(t={value:t}),t.className=t.className||i.options.classNames.series+"-"+e.alphaNumerate(s),t});i.data.series=o}var l=document.createElement("ul"),c=i instanceof e.Pie;l.className="ct-legend",i instanceof e.Pie&&l.classList.add("ct-legend-inside"),"string"==typeof s.className&&s.className.length>0&&l.classList.add(s.className),i.options.width&&(l.style.cssText="width: "+i.options.width+"px;margin: 0 auto;");var r=[],d=i.data.series.slice(0),p=i.data.series,u=c&&i.data.labels&&i.data.labels.length;if(u){var f=i.data.labels.slice(0);p=i.data.labels}p=s.legendNames||p;var m=Array.isArray(s.classNames)&&s.classNames.length===p.length;p.forEach(function(e,t){var a=document.createElement("li");a.className="ct-series-"+t,m&&(a.className+=" "+s.classNames[t]),a.setAttribute("data-legend",t),a.textContent=e.name||e,l.appendChild(a)}),i.on("created",function(e){if(s.position instanceof HTMLElement)s.position.insertBefore(l,null);else switch(s.position){case"top":i.container.insertBefore(l,i.container.childNodes[0]);break;case"bottom":i.container.insertBefore(l,null)}}),s.clickable&&l.addEventListener("click",function(e){var t=e.target;if(t.parentNode===l&&t.hasAttribute("data-legend")){e.preventDefault();var n=parseInt(t.getAttribute("data-legend")),o=r.indexOf(n);o>-1?(r.splice(o,1),t.classList.remove("inactive")):s.removeAll?(r.push(n),t.classList.add("inactive")):i.data.series.length>1?(r.push(n),t.classList.add("inactive")):(r=[],Array.prototype.slice.call(l.childNodes).forEach(function(e){e.classList.remove("inactive")}));var c=d.slice(0);if(u)var p=f.slice(0);r.sort(a).reverse(),r.forEach(function(e){c.splice(e,1),u&&p.splice(e,1)}),s.onClick&&s.onClick(i,e),i.data.series=c,u&&(i.data.labels=p),i.update()}})}},e.plugins.legend});