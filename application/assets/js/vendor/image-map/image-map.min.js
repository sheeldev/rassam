(function(a,b){if((!(window&&window.document)&&!(a&&a.document))){throw new Error("ImageMap requires a window with a document")}if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof exports==="object"&&typeof exports.nodeName!=="string"){module.exports=b(require("jquery"))}else{a.ImageMap=b(a.jQuery)}}}(this||window,function(a){var b=function(c){var d=this;if(!d){return new b(c)}d.selector=c instanceof Array?c:[].slice.call(document.querySelectorAll(c));(d.update=function(){d.selector.forEach(function(g){var e=g,f=document.createElement("img");if(typeof e.getAttribute("usemap")==="undefined"){return}f.addEventListener("load",function(){var o=new Image();o.src=e.getAttribute("src");var i=e.getAttribute("width")||o.width,k=e.getAttribute("height")||o.height,j=e.offsetWidth/100,m=e.offsetHeight/100,l=e.getAttribute("usemap").replace("#",""),n="coords";[].forEach.call(document.querySelectorAll('map[name="'+l+'"] area'),function(r){var q=r,s=q.dataset[n]=q.dataset[n]||q.getAttribute(n),p=s.split(","),h=Array.apply(null,Array(p.length));h.forEach(function(u,t){h[t]=t%2===0?Number(((p[t]/i)*100)*j):Number(((p[t]/k)*100)*m)});q.setAttribute(n,h.toString())})});f.setAttribute("src",e.getAttribute("src"))})})();window.addEventListener("resize",d.update);return d};if(a&&a.fn){a.fn.imageMap=function(){var c=this;return new b(c.toArray())}}b.ImageMap=b;return b}));