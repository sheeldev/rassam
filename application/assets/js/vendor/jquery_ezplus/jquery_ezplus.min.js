if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(c,b,a,d){var e={init:function(g,h){var f=this;var i;f.elem=h;f.$elem=c(h);f.imageSrc=f.$elem.data("zoom-image")?f.$elem.data("zoom-image"):f.$elem.attr("src");f.options=c.extend({},c.fn.ezPlus.options,f.responsiveConfig(g||{}));if(!f.options.enabled){return}if(f.options.tint){f.options.lensColour="none";f.options.lensOpacity="1"}if(f.options.zoomType==="inner"){f.options.showLens=false}f.$elem.parent().removeAttr("title").removeAttr("alt");f.zoomImage=f.imageSrc;f.refresh(1);i=c(f.options.gallery?("#"+f.options.gallery):f.options.gallerySelector);i.on("click.zoom",f.options.galleryItem,function(j){if(f.options.galleryActiveClass){c(f.options.galleryItem,i).removeClass(f.options.galleryActiveClass);c(this).addClass(f.options.galleryActiveClass)}if(this.tagName==="A"){j.preventDefault()}if(c(this).data("zoom-image")){f.zoomImagePre=c(this).data("zoom-image")}else{f.zoomImagePre=c(this).data("image")}f.swaptheimage(c(this).data("image"),f.zoomImagePre);if(this.tagName==="A"){return false}})},refresh:function(g){var f=this;setTimeout(function(){f.fetch(f.imageSrc)},g||f.options.refresh)},fetch:function(h){var f=this;var g=new Image();g.onload=function(){f.largeWidth=g.width;f.largeHeight=g.height;f.startZoom();f.currentImage=f.imageSrc;f.options.onZoomedImageLoaded(f.$elem)};f.setImageSource(g,h);return},setImageSource:function(f,g){f.src=g},startZoom:function(){var h=this;h.nzWidth=h.$elem.width();h.nzHeight=h.$elem.height();h.isWindowActive=false;h.isLensActive=false;h.isTintActive=false;h.overWindow=false;if(h.options.imageCrossfade){h.zoomWrap=h.$elem.wrap('<div style="height:'+h.nzHeight+"px;width:"+h.nzWidth+'px;" class="zoomWrapper" />');h.$elem.css("position","absolute")}h.zoomLock=1;h.scrollingLock=false;h.changeBgSize=false;h.currentZoomLevel=h.options.zoomLevel;h.nzOffset=h.$elem.offset();h.widthRatio=(h.largeWidth/h.currentZoomLevel)/h.nzWidth;h.heightRatio=(h.largeHeight/h.currentZoomLevel)/h.nzHeight;function g(){return"overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(h.options.zoomWindowBgColour)+";width: "+String(h.options.zoomWindowWidth)+"px;height: "+String(h.options.zoomWindowHeight)+"px;float: left;background-size: "+h.largeWidth/h.currentZoomLevel+"px "+h.largeHeight/h.currentZoomLevel+"px;display: none;z-index:100;border: "+String(h.options.borderSize)+"px solid "+h.options.borderColour+";background-repeat: no-repeat;position: absolute;box-shadow: 0 2px 3px -1px rgba(186, 186, 186, 0.7);"}if(h.options.zoomType==="window"){h.zoomWindowStyle=g()}function f(){var m=h.$elem.css("border-left-width");return"overflow: hidden;margin-left: "+String(m)+";margin-top: "+String(m)+";background-position: 0px 0px;width: "+String(h.nzWidth)+"px;height: "+String(h.nzHeight)+"px;float: left;display: none;cursor:"+(h.options.cursor)+";px solid "+h.options.borderColour+";background-repeat: no-repeat;position: absolute;"}if(h.options.zoomType==="inner"){h.zoomWindowStyle=f()}function k(){var m,n;if(h.nzHeight<h.options.zoomWindowHeight/h.heightRatio){m=h.nzHeight}else{m=String(h.options.zoomWindowHeight/h.heightRatio)}if(h.largeWidth<h.options.zoomWindowWidth){n=h.nzWidth}else{n=String(h.options.zoomWindowWidth/h.widthRatio)}return"background-position: 0px 0px;width: "+String((h.options.zoomWindowWidth)/h.widthRatio)+"px;height: "+String((h.options.zoomWindowHeight)/h.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;opacity:"+(h.options.lensOpacity)+";filter: alpha(opacity = "+(h.options.lensOpacity*100)+"); zoom:1;width:"+n+"px;height:"+m+"px;background-color:"+(h.options.lensColour)+";cursor:"+(h.options.cursor)+";border: "+(h.options.lensBorderSize)+"px solid "+(h.options.lensBorderColour)+";background-repeat: no-repeat;position: absolute;"}if(h.options.zoomType==="window"){h.lensStyle=k()}h.tintStyle="display: block;position: absolute;background-color: "+h.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+h.nzWidth+"px;height: "+h.nzHeight+"px;";h.lensRound="";if(h.options.zoomType==="lens"){h.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(h.options.borderSize)+"px solid "+h.options.borderColour+";width:"+String(h.options.lensSize)+"px;height:"+String(h.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"}if(h.options.lensShape==="round"){h.lensRound="border-top-left-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;border-top-right-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;border-bottom-left-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;border-bottom-right-radius: "+String(h.options.lensSize/2+h.options.borderSize)+"px;"}if(c(".zoomContainer").length){c(".zoomContainer").remove()}h.zoomContainer=c('<div class="zoomContainer" style="position:absolute;left:'+h.nzOffset.left+"px;top:"+h.nzOffset.top+"px;height:"+h.nzHeight+"px;width:"+h.nzWidth+'px;"></div>');c(h.options.zoomContainerAppendTo).append(h.zoomContainer);if(h.options.containLensZoom&&h.options.zoomType==="lens"){h.zoomContainer.css("overflow","hidden")}if(h.options.zoomType!=="inner"){h.zoomLens=c('<div class="zoomLens" style="'+h.lensStyle+h.lensRound+'">&nbsp;</div>').appendTo(h.zoomContainer).click(function(){h.$elem.trigger("click")});if(h.options.tint){h.tintContainer=c("<div/>").addClass("tintContainer");h.zoomTint=c('<div class="zoomTint" style="'+h.tintStyle+'"></div>');h.zoomLens.wrap(h.tintContainer);h.zoomTintcss=h.zoomLens.after(h.zoomTint);h.zoomTintImage=c('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+h.nzWidth+"px; height: "+h.nzHeight+'px;" src="'+h.imageSrc+'">').appendTo(h.zoomLens).click(function(){h.$elem.trigger("click")})}}var i=isNaN(h.options.zoomWindowPosition)?"body":h.zoomContainer;h.zoomWindow=c('<div style="z-index:999;left:'+(h.windowOffsetLeft)+"px;top:"+(h.windowOffsetTop)+"px;"+h.zoomWindowStyle+'" class="zoomWindow">&nbsp;</div>').appendTo(i).click(function(){h.$elem.trigger("click")});h.zoomWindowContainer=c("<div/>").addClass("zoomWindowContainer").css("width",h.options.zoomWindowWidth);h.zoomWindow.wrap(h.zoomWindowContainer);if(h.options.zoomType==="lens"){h.zoomLens.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.zoomType==="window"){h.zoomWindow.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.zoomType==="inner"){h.zoomWindow.css("background-image",'url("'+h.imageSrc+'")')}if(h.options.touchEnabled){h.$elem.bind("touchmove",function(m){var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.zoomContainer.bind("touchmove",function(m){if(h.options.zoomType==="inner"){h.showHideWindow("show")}var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.zoomContainer.bind("touchend",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.zoomType!=="inner"){h.showHideTint("hide")}});h.$elem.bind("touchend",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.zoomType!=="inner"){h.showHideTint("hide")}});if(h.options.showLens){h.zoomLens.bind("touchmove",function(m){var n=m.originalEvent.touches[0]||m.originalEvent.changedTouches[0];h.setPosition(n)});h.zoomLens.bind("touchend",function(m){h.showHideWindow("hide");if(h.options.showLens){h.showHideLens("hide")}if(h.options.tint&&h.options.zoomType!=="inner"){h.showHideTint("hide")}})}}h.$elem.bind("mousemove",function(m){if(h.overWindow===false){h.setElements("show")}if(h.lastX!==m.clientX||h.lastY!==m.clientY){h.setPosition(m);h.currentLoc=m}h.lastX=m.clientX;h.lastY=m.clientY});h.zoomContainer.bind("click",h.options.onImageClick);h.zoomContainer.bind("mousemove",function(m){if(h.overWindow===false){h.setElements("show")}l(m)});function l(m){if(h.lastX!==m.clientX||h.lastY!==m.clientY){h.setPosition(m);h.currentLoc=m}h.lastX=m.clientX;h.lastY=m.clientY}var j=null;if(h.options.zoomType!=="inner"){j=h.zoomLens}if(h.options.tint&&h.options.zoomType!=="inner"){j=h.zoomTint}if(h.options.zoomType==="inner"){j=h.zoomWindow}if(j){j.bind("mousemove",l)}h.zoomContainer.add(h.$elem).mouseenter(function(){if(h.overWindow===false){h.setElements("show")}}).mouseleave(function(){if(!h.scrollLock){h.setElements("hide");h.options.onDestroy(h.$elem)}});if(h.options.zoomType!=="inner"){h.zoomWindow.mouseenter(function(){h.overWindow=true;h.setElements("hide")}).mouseleave(function(){h.overWindow=false})}if(h.options.minZoomLevel){h.minZoomLevel=h.options.minZoomLevel}else{h.minZoomLevel=h.options.scrollZoomIncrement*2}if(h.options.scrollZoom){h.zoomContainer.add(h.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(m){h.scrollLock=true;clearTimeout(c.data(this,"timer"));c.data(this,"timer",setTimeout(function(){h.scrollLock=false},250));var n=m.originalEvent.deltaY||m.originalEvent.detail*-1;m.stopImmediatePropagation();m.stopPropagation();m.preventDefault();if(n/120>0){if(h.currentZoomLevel>=h.minZoomLevel){h.changeZoomLevel(h.currentZoomLevel-h.options.scrollZoomIncrement)}}else{if((!h.fullheight&&!h.fullwidth)||!h.options.mantainZoomAspectRatio){if(h.options.maxZoomLevel){if(h.currentZoomLevel<=h.options.maxZoomLevel){h.changeZoomLevel(parseFloat(h.currentZoomLevel)+h.options.scrollZoomIncrement)}}else{h.changeZoomLevel(parseFloat(h.currentZoomLevel)+h.options.scrollZoomIncrement)}}}return false})}},setElements:function(g){var f=this;if(!f.options.zoomEnabled){return false}if(g==="show"){if(f.isWindowSet){if(f.options.zoomType==="inner"){f.showHideWindow("show")}if(f.options.zoomType==="window"){f.showHideWindow("show")}if(f.options.showLens){f.showHideLens("show")}if(f.options.tint&&f.options.zoomType!=="inner"){f.showHideTint("show")}}}if(g==="hide"){if(f.options.zoomType==="window"){f.showHideWindow("hide")}if(!f.options.tint){f.showHideWindow("hide")}if(f.options.showLens){f.showHideLens("hide")}if(f.options.tint){f.showHideTint("hide")}}},setPosition:function(j){var g=this;if(!g.options.zoomEnabled){return false}g.nzHeight=g.$elem.height();g.nzWidth=g.$elem.width();g.nzOffset=g.$elem.offset();if(g.options.tint&&g.options.zoomType!=="inner"){g.zoomTint.css({top:0,left:0})}if(g.options.responsive&&!g.options.scrollZoom){if(g.options.showLens){var h,k;if(g.nzHeight<g.options.zoomWindowWidth/g.widthRatio){h=g.nzHeight}else{h=String((g.options.zoomWindowHeight/g.heightRatio))}if(g.largeWidth<g.options.zoomWindowWidth){k=g.nzWidth}else{k=(g.options.zoomWindowWidth/g.widthRatio)}g.widthRatio=g.largeWidth/g.nzWidth;g.heightRatio=g.largeHeight/g.nzHeight;if(g.options.zoomType!=="lens"){if(g.nzHeight<g.options.zoomWindowWidth/g.widthRatio){h=g.nzHeight}else{h=String((g.options.zoomWindowHeight/g.heightRatio))}if(g.nzWidth<g.options.zoomWindowHeight/g.heightRatio){k=g.nzWidth}else{k=String((g.options.zoomWindowWidth/g.widthRatio))}g.zoomLens.css({width:k,height:h});if(g.options.tint){g.zoomTintImage.css({width:g.nzWidth,height:g.nzHeight})}}if(g.options.zoomType==="lens"){g.zoomLens.css({width:String(g.options.lensSize)+"px",height:String(g.options.lensSize)+"px"})}}}g.zoomContainer.css({top:g.nzOffset.top,left:g.nzOffset.left});g.mouseLeft=parseInt(j.pageX-g.nzOffset.left);g.mouseTop=parseInt(j.pageY-g.nzOffset.top);if(g.options.zoomType==="window"){var f=g.zoomLens.height()/2;var i=g.zoomLens.width()/2;g.Etoppos=(g.mouseTop<0+f);g.Eboppos=(g.mouseTop>g.nzHeight-f-(g.options.lensBorderSize*2));g.Eloppos=(g.mouseLeft<0+i);g.Eroppos=(g.mouseLeft>(g.nzWidth-i-(g.options.lensBorderSize*2)))}if(g.options.zoomType==="inner"){g.Etoppos=(g.mouseTop<((g.nzHeight/2)/g.heightRatio));g.Eboppos=(g.mouseTop>(g.nzHeight-((g.nzHeight/2)/g.heightRatio)));g.Eloppos=(g.mouseLeft<0+(((g.nzWidth/2)/g.widthRatio)));g.Eroppos=(g.mouseLeft>(g.nzWidth-(g.nzWidth/2)/g.widthRatio-(g.options.lensBorderSize*2)))}if(g.mouseLeft<0||g.mouseTop<0||g.mouseLeft>g.nzWidth||g.mouseTop>g.nzHeight){g.setElements("hide");return}else{if(g.options.showLens){g.lensLeftPos=String(Math.floor(g.mouseLeft-g.zoomLens.width()/2));g.lensTopPos=String(Math.floor(g.mouseTop-g.zoomLens.height()/2))}if(g.Etoppos){g.lensTopPos=0}if(g.Eloppos){g.windowLeftPos=0;g.lensLeftPos=0;g.tintpos=0}if(g.options.zoomType==="window"){if(g.Eboppos){g.lensTopPos=Math.max((g.nzHeight)-g.zoomLens.height()-(g.options.lensBorderSize*2),0)}if(g.Eroppos){g.lensLeftPos=(g.nzWidth-(g.zoomLens.width())-(g.options.lensBorderSize*2))}}if(g.options.zoomType==="inner"){if(g.Eboppos){g.lensTopPos=Math.max(((g.nzHeight)-(g.options.lensBorderSize*2)),0)}if(g.Eroppos){g.lensLeftPos=(g.nzWidth-(g.nzWidth)-(g.options.lensBorderSize*2))}}if(g.options.zoomType==="lens"){g.windowLeftPos=String(((j.pageX-g.nzOffset.left)*g.widthRatio-g.zoomLens.width()/2)*(-1));g.windowTopPos=String(((j.pageY-g.nzOffset.top)*g.heightRatio-g.zoomLens.height()/2)*(-1));g.zoomLens.css("background-position",g.windowLeftPos+"px "+g.windowTopPos+"px");if(g.changeBgSize){if(g.nzHeight>g.nzWidth){if(g.options.zoomType==="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px")}else{if(g.options.zoomType==="lens"){g.zoomLens.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.zoomWindow.css("background-size",g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px")}g.changeBgSize=false}g.setWindowPosition(j)}if(g.options.tint&&g.options.zoomType!=="inner"){g.setTintPosition(j)}if(g.options.zoomType==="window"){g.setWindowPosition(j)}if(g.options.zoomType==="inner"){g.setWindowPosition(j)}if(g.options.showLens){if(g.fullwidth&&g.options.zoomType!=="lens"){g.lensLeftPos=0}g.zoomLens.css({left:g.lensLeftPos+"px",top:g.lensTopPos+"px"})}}},showHideZoomContainer:function(g){var f=this;if(g==="show"){if(f.zoomContainer){f.zoomContainer.show()}}if(g==="hide"){if(f.zoomContainer){f.zoomContainer.hide()}}},showHideWindow:function(g){var f=this;if(g==="show"){if(!f.isWindowActive&&f.zoomWindow){f.options.onShow(f);if(f.options.zoomWindowFadeIn){f.zoomWindow.stop(true,true,false).fadeIn(f.options.zoomWindowFadeIn)}else{f.zoomWindow.show()}f.isWindowActive=true}}if(g==="hide"){if(f.isWindowActive){if(f.options.zoomWindowFadeOut){f.zoomWindow.stop(true,true).fadeOut(f.options.zoomWindowFadeOut,function(){if(f.loop){clearInterval(f.loop);f.loop=false}})}else{f.zoomWindow.hide()}f.isWindowActive=false}}},showHideLens:function(g){var f=this;if(g==="show"){if(!f.isLensActive){if(f.options.lensFadeIn&&f.zoomLens){f.zoomLens.stop(true,true,false).fadeIn(f.options.lensFadeIn)}else{f.zoomLens.show()}f.isLensActive=true}}if(g==="hide"){if(f.isLensActive){if(f.options.lensFadeOut){f.zoomLens.stop(true,true).fadeOut(f.options.lensFadeOut)}else{f.zoomLens.hide()}f.isLensActive=false}}},showHideTint:function(g){var f=this;if(g==="show"){if(!f.isTintActive&&f.zoomTint){if(f.options.zoomTintFadeIn){f.zoomTint.css("opacity",f.options.tintOpacity).animate().stop(true,true).fadeIn("slow")}else{f.zoomTint.css("opacity",f.options.tintOpacity).animate();f.zoomTint.show()}f.isTintActive=true}}if(g==="hide"){if(f.isTintActive){if(f.options.zoomTintFadeOut){f.zoomTint.stop(true,true).fadeOut(f.options.zoomTintFadeOut)}else{f.zoomTint.hide()}f.isTintActive=false}}},setLensPosition:function(f){},setWindowPosition:function(g){var f=this;if(!isNaN(f.options.zoomWindowPosition)){switch(f.options.zoomWindowPosition){case 1:f.windowOffsetTop=(f.options.zoomWindowOffsetY);f.windowOffsetLeft=(+f.nzWidth);break;case 2:if(f.options.zoomWindowHeight>f.nzHeight){f.windowOffsetTop=((f.options.zoomWindowHeight/2)-(f.nzHeight/2))*(-1);f.windowOffsetLeft=(f.nzWidth)}else{c.noop()}break;case 3:f.windowOffsetTop=(f.nzHeight-f.zoomWindow.height()-(f.options.borderSize*2));f.windowOffsetLeft=(f.nzWidth);break;case 4:f.windowOffsetTop=(f.nzHeight);f.windowOffsetLeft=(f.nzWidth);break;case 5:f.windowOffsetTop=(f.nzHeight);f.windowOffsetLeft=(f.nzWidth-f.zoomWindow.width()-(f.options.borderSize*2));break;case 6:if(f.options.zoomWindowHeight>f.nzHeight){f.windowOffsetTop=(f.nzHeight);f.windowOffsetLeft=((f.options.zoomWindowWidth/2)-(f.nzWidth/2)+(f.options.borderSize*2))*(-1)}else{c.noop()}break;case 7:f.windowOffsetTop=(f.nzHeight);f.windowOffsetLeft=0;break;case 8:f.windowOffsetTop=(f.nzHeight);f.windowOffsetLeft=(f.zoomWindow.width()+(f.options.borderSize*2))*(-1);break;case 9:f.windowOffsetTop=(f.nzHeight-f.zoomWindow.height()-(f.options.borderSize*2));f.windowOffsetLeft=(f.zoomWindow.width()+(f.options.borderSize*2))*(-1);break;case 10:if(f.options.zoomWindowHeight>f.nzHeight){f.windowOffsetTop=((f.options.zoomWindowHeight/2)-(f.nzHeight/2))*(-1);f.windowOffsetLeft=(f.zoomWindow.width()+(f.options.borderSize*2))*(-1)}else{c.noop()}break;case 11:f.windowOffsetTop=(f.options.zoomWindowOffsetY);f.windowOffsetLeft=(f.zoomWindow.width()+(f.options.borderSize*2))*(-1);break;case 12:f.windowOffsetTop=(f.zoomWindow.height()+(f.options.borderSize*2))*(-1);f.windowOffsetLeft=(f.zoomWindow.width()+(f.options.borderSize*2))*(-1);break;case 13:f.windowOffsetTop=(f.zoomWindow.height()+(f.options.borderSize*2))*(-1);f.windowOffsetLeft=(0);break;case 14:if(f.options.zoomWindowHeight>f.nzHeight){f.windowOffsetTop=(f.zoomWindow.height()+(f.options.borderSize*2))*(-1);f.windowOffsetLeft=((f.options.zoomWindowWidth/2)-(f.nzWidth/2)+(f.options.borderSize*2))*(-1)}else{c.noop()}break;case 15:f.windowOffsetTop=(f.zoomWindow.height()+(f.options.borderSize*2))*(-1);f.windowOffsetLeft=(f.nzWidth-f.zoomWindow.width()-(f.options.borderSize*2));break;case 16:f.windowOffsetTop=(f.zoomWindow.height()+(f.options.borderSize*2))*(-1);f.windowOffsetLeft=(f.nzWidth);break;default:f.windowOffsetTop=(f.options.zoomWindowOffsetY);f.windowOffsetLeft=(f.nzWidth)}}else{f.externalContainer=c("#"+f.options.zoomWindowPosition);f.externalContainerWidth=f.externalContainer.width();f.externalContainerHeight=f.externalContainer.height();f.externalContainerOffset=f.externalContainer.offset();f.windowOffsetTop=f.externalContainerOffset.top;f.windowOffsetLeft=f.externalContainerOffset.left}f.isWindowSet=true;f.windowOffsetTop=f.windowOffsetTop+f.options.zoomWindowOffsetY;f.windowOffsetLeft=f.windowOffsetLeft+f.options.zoomWindowOffsetX;f.zoomWindow.css({top:f.windowOffsetTop,left:f.windowOffsetLeft});if(f.options.zoomType==="inner"){f.zoomWindow.css({top:0,left:0})}f.windowLeftPos=String(((g.pageX-f.nzOffset.left)*f.widthRatio-f.zoomWindow.width()/2)*(-1));f.windowTopPos=String(((g.pageY-f.nzOffset.top)*f.heightRatio-f.zoomWindow.height()/2)*(-1));if(f.Etoppos){f.windowTopPos=0}if(f.Eloppos){f.windowLeftPos=0}if(f.Eboppos){f.windowTopPos=(f.largeHeight/f.currentZoomLevel-f.zoomWindow.height())*(-1)}if(f.Eroppos){f.windowLeftPos=((f.largeWidth/f.currentZoomLevel-f.zoomWindow.width())*(-1))}if(f.fullheight){f.windowTopPos=0}if(f.fullwidth){f.windowLeftPos=0}if(f.options.zoomType==="window"||f.options.zoomType==="inner"){if(f.zoomLock===1){if(f.widthRatio<=1){f.windowLeftPos=0}if(f.heightRatio<=1){f.windowTopPos=0}}if(f.options.zoomType==="window"){if(f.largeHeight<f.options.zoomWindowHeight){f.windowTopPos=0}if(f.largeWidth<f.options.zoomWindowWidth){f.windowLeftPos=0}}if(f.options.easing){if(!f.xp){f.xp=0}if(!f.yp){f.yp=0}if(!f.loop){f.loop=setInterval(function(){f.xp+=(f.windowLeftPos-f.xp)/f.options.easingAmount;f.yp+=(f.windowTopPos-f.yp)/f.options.easingAmount;if(f.scrollingLock){clearInterval(f.loop);f.xp=f.windowLeftPos;f.yp=f.windowTopPos;f.xp=((g.pageX-f.nzOffset.left)*f.widthRatio-f.zoomWindow.width()/2)*(-1);f.yp=(((g.pageY-f.nzOffset.top)*f.heightRatio-f.zoomWindow.height()/2)*(-1));if(f.changeBgSize){if(f.nzHeight>f.nzWidth){if(f.options.zoomType==="lens"){f.zoomLens.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}f.zoomWindow.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}else{if(f.options.zoomType!=="lens"){f.zoomLens.css("background-size",f.largeWidth/f.newvaluewidth+"px "+f.largeHeight/f.newvalueheight+"px")}f.zoomWindow.css("background-size",f.largeWidth/f.newvaluewidth+"px "+f.largeHeight/f.newvaluewidth+"px")}f.changeBgSize=false}f.zoomWindow.css("background-position",f.windowLeftPos+"px "+f.windowTopPos+"px");f.scrollingLock=false;f.loop=false}else{if(Math.round(Math.abs(f.xp-f.windowLeftPos)+Math.abs(f.yp-f.windowTopPos))<1){clearInterval(f.loop);f.zoomWindow.css("background-position",f.windowLeftPos+"px "+f.windowTopPos+"px");f.loop=false}else{if(f.changeBgSize){if(f.nzHeight>f.nzWidth){if(f.options.zoomType==="lens"){f.zoomLens.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}f.zoomWindow.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}else{if(f.options.zoomType!=="lens"){f.zoomLens.css("background-size",f.largeWidth/f.newvaluewidth+"px "+f.largeHeight/f.newvaluewidth+"px")}f.zoomWindow.css("background-size",f.largeWidth/f.newvaluewidth+"px "+f.largeHeight/f.newvaluewidth+"px")}f.changeBgSize=false}f.zoomWindow.css("background-position",f.xp+"px "+f.yp+"px")}}},16)}}else{if(f.changeBgSize){if(f.nzHeight>f.nzWidth){if(f.options.zoomType==="lens"){f.zoomLens.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}f.zoomWindow.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}else{if(f.options.zoomType==="lens"){f.zoomLens.css("background-size",f.largeWidth/f.newvaluewidth+"px "+f.largeHeight/f.newvaluewidth+"px")}if((f.largeHeight/f.newvaluewidth)<f.options.zoomWindowHeight){f.zoomWindow.css("background-size",f.largeWidth/f.newvaluewidth+"px "+f.largeHeight/f.newvaluewidth+"px")}else{f.zoomWindow.css("background-size",f.largeWidth/f.newvalueheight+"px "+f.largeHeight/f.newvalueheight+"px")}}f.changeBgSize=false}f.zoomWindow.css("background-position",f.windowLeftPos+"px "+f.windowTopPos+"px")}}},setTintPosition:function(i){var g=this;var h=g.zoomLens.width();var f=g.zoomLens.height();g.nzOffset=g.$elem.offset();g.tintpos=String(((i.pageX-g.nzOffset.left)-(h/2))*(-1));g.tintposy=String(((i.pageY-g.nzOffset.top)-f/2)*(-1));if(g.Etoppos){g.tintposy=0}if(g.Eloppos){g.tintpos=0}if(g.Eboppos){g.tintposy=(g.nzHeight-f-(g.options.lensBorderSize*2))*(-1)}if(g.Eroppos){g.tintpos=((g.nzWidth-h-(g.options.lensBorderSize*2))*(-1))}if(g.options.tint){if(g.fullheight){g.tintposy=0}if(g.fullwidth){g.tintpos=0}g.zoomTintImage.css({left:g.tintpos+"px",top:g.tintposy+"px"})}},swaptheimage:function(h,g){var f=this;var i=new Image();if(f.options.loadingIcon){f.spinner=c("<div style=\"background: url('"+f.options.loadingIcon+"') no-repeat center;height:"+f.nzHeight+"px;width:"+f.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>');f.$elem.after(f.spinner)}f.options.onImageSwap(f.$elem);i.onload=function(){f.largeWidth=i.width;f.largeHeight=i.height;f.zoomImage=g;f.zoomWindow.css("background-size",f.largeWidth+"px "+f.largeHeight+"px");f.swapAction(h,g);return};f.setImageSource(i,g)},swapAction:function(s,p){var q=this;var i=q.$elem.width();var g=q.$elem.height();var o=new Image();o.onload=function(){q.nzHeight=o.height;q.nzWidth=o.width;q.options.onImageSwapComplete(q.$elem);q.doneCallback();return};q.setImageSource(o,s);q.currentZoomLevel=q.options.zoomLevel;q.options.maxZoomLevel=false;if(q.options.zoomType==="lens"){q.zoomLens.css("background-image",'url("'+p+'")')}if(q.options.zoomType==="window"){q.zoomWindow.css("background-image",'url("'+p+'")')}if(q.options.zoomType==="inner"){q.zoomWindow.css("background-image",'url("'+p+'")')}q.currentImage=p;if(q.options.imageCrossfade){var f=q.$elem;var j=f.clone();q.$elem.attr("src",s);q.$elem.after(j);j.stop(true).fadeOut(q.options.imageCrossfade,function(){c(this).remove()});q.$elem.width("auto").removeAttr("width");q.$elem.height("auto").removeAttr("height");f.fadeIn(q.options.imageCrossfade);if(q.options.tint&&q.options.zoomType!=="inner"){var r=q.zoomTintImage;var h=r.clone();q.zoomTintImage.attr("src",p);q.zoomTintImage.after(h);h.stop(true).fadeOut(q.options.imageCrossfade,function(){c(this).remove()});r.fadeIn(q.options.imageCrossfade);q.zoomTint.css({height:g,width:i})}q.zoomContainer.css({height:g,width:i});if(q.options.zoomType==="inner"){if(!q.options.constrainType){q.zoomWrap.parent().css({height:g,width:i});q.zoomWindow.css({height:g,width:i})}}if(q.options.imageCrossfade){q.zoomWrap.css({height:g,width:i})}}else{q.$elem.attr("src",s);if(q.options.tint){q.zoomTintImage.attr("src",p);q.zoomTintImage.attr("height",g);q.zoomTintImage.css("height",g);q.zoomTint.css("height",g)}q.zoomContainer.css({height:g,width:i});if(q.options.imageCrossfade){q.zoomWrap.css({height:g,width:i})}}if(q.options.constrainType){if(q.options.constrainType==="height"){var n={height:q.options.constrainSize,width:"auto"};q.zoomContainer.css(n);if(q.options.imageCrossfade){q.zoomWrap.css(n);q.constwidth=q.zoomWrap.width()}else{q.$elem.css(n);q.constwidth=i}var l={height:q.options.constrainSize,width:q.constwidth};if(q.options.zoomType==="inner"){q.zoomWrap.parent().css(l);q.zoomWindow.css(l)}if(q.options.tint){q.tintContainer.css(l);q.zoomTint.css(l);q.zoomTintImage.css(l)}}if(q.options.constrainType==="width"){var m={height:"auto",width:q.options.constrainSize};q.zoomContainer.css(m);if(q.options.imageCrossfade){q.zoomWrap.css(m);q.constheight=q.zoomWrap.height()}else{q.$elem.css(m);q.constheight=g}var k={height:q.constheight,width:q.options.constrainSize};if(q.options.zoomType==="inner"){q.zoomWrap.parent().css(k);q.zoomWindow.css(k)}if(q.options.tint){q.tintContainer.css(k);q.zoomTint.css(k);q.zoomTintImage.css(k)}}}},doneCallback:function(){var f=this;if(f.options.loadingIcon){f.spinner.hide()}f.nzOffset=f.$elem.offset();f.nzWidth=f.$elem.width();f.nzHeight=f.$elem.height();f.currentZoomLevel=f.options.zoomLevel;f.widthRatio=f.largeWidth/f.nzWidth;f.heightRatio=f.largeHeight/f.nzHeight;if(f.options.zoomType==="window"){var g,h;if(f.nzHeight<f.options.zoomWindowHeight/f.heightRatio){g=f.nzHeight}else{g=String((f.options.zoomWindowHeight/f.heightRatio))}if(f.nzWidth<f.options.zoomWindowWidth){h=f.nzWidth}else{h=(f.options.zoomWindowWidth/f.widthRatio)}if(f.zoomLens){f.zoomLens.css({width:h,height:g})}}},getCurrentImage:function(){var f=this;return f.zoomImage},getGalleryList:function(){var f=this;f.gallerylist=[];if(f.options.gallery){c("#"+f.options.gallery+" a").each(function(){var g="";if(c(this).data("zoom-image")){g=c(this).data("zoom-image")}else{if(c(this).data("image")){g=c(this).data("image")}}if(g===f.zoomImage){f.gallerylist.unshift({href:""+g+"",title:c(this).find("img").attr("title")})}else{f.gallerylist.push({href:""+g+"",title:c(this).find("img").attr("title")})}})}else{f.gallerylist.push({href:""+f.zoomImage+"",title:c(this).find("img").attr("title")})}return f.gallerylist},changeZoomLevel:function(j){var i=this;i.scrollingLock=true;i.newvalue=parseFloat(j).toFixed(2);var h=i.newvalue;var g=i.largeHeight/((i.options.zoomWindowHeight/i.nzHeight)*i.nzHeight);var k=i.largeWidth/((i.options.zoomWindowWidth/i.nzWidth)*i.nzWidth);if(i.options.zoomType!=="inner"){if(g<=h){i.heightRatio=(i.largeHeight/g)/i.nzHeight;i.newvalueheight=g;i.fullheight=true}else{i.heightRatio=(i.largeHeight/h)/i.nzHeight;i.newvalueheight=h;i.fullheight=false}if(k<=h){i.widthRatio=(i.largeWidth/k)/i.nzWidth;i.newvaluewidth=k;i.fullwidth=true}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}if(i.options.zoomType==="lens"){if(g<=h){i.fullwidth=true;i.newvaluewidth=g}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}}}if(i.options.zoomType==="inner"){g=parseFloat(i.largeHeight/i.nzHeight).toFixed(2);k=parseFloat(i.largeWidth/i.nzWidth).toFixed(2);if(h>g){h=g}if(h>k){h=k}if(g<=h){i.heightRatio=(i.largeHeight/h)/i.nzHeight;if(h>g){i.newvalueheight=g}else{i.newvalueheight=h}i.fullheight=true}else{i.heightRatio=(i.largeHeight/h)/i.nzHeight;if(h>g){i.newvalueheight=g}else{i.newvalueheight=h}i.fullheight=false}if(k<=h){i.widthRatio=(i.largeWidth/h)/i.nzWidth;if(h>k){i.newvaluewidth=k}else{i.newvaluewidth=h}i.fullwidth=true}else{i.widthRatio=(i.largeWidth/h)/i.nzWidth;i.newvaluewidth=h;i.fullwidth=false}}var f=false;if(i.options.zoomType==="inner"){if(i.nzWidth>=i.nzHeight){if(i.newvaluewidth<=k){f=true}else{f=false;i.fullheight=true;i.fullwidth=true}}if(i.nzHeight>i.nzWidth){if(i.newvaluewidth<=k){f=true}else{f=false;i.fullheight=true;i.fullwidth=true}}}if(i.options.zoomType!=="inner"){f=true}if(f){i.zoomLock=0;i.changeZoom=true;if(((i.options.zoomWindowHeight)/i.heightRatio)<=i.nzHeight){i.currentZoomLevel=i.newvalueheight;if(i.options.zoomType!=="lens"&&i.options.zoomType!=="inner"){i.changeBgSize=true;i.zoomLens.css("height",String(i.options.zoomWindowHeight/i.heightRatio)+"px")}if(i.options.zoomType==="lens"||i.options.zoomType==="inner"){i.changeBgSize=true}}if((i.options.zoomWindowWidth/i.widthRatio)<=i.nzWidth){if(i.options.zoomType!=="inner"){if(i.newvaluewidth>i.newvalueheight){i.currentZoomLevel=i.newvaluewidth}}if(i.options.zoomType!=="lens"&&i.options.zoomType!=="inner"){i.changeBgSize=true;i.zoomLens.css("width",String(i.options.zoomWindowWidth/i.widthRatio)+"px")}if(i.options.zoomType==="lens"||i.options.zoomType==="inner"){i.changeBgSize=true}}if(i.options.zoomType==="inner"){i.changeBgSize=true;if(i.nzWidth>i.nzHeight){i.currentZoomLevel=i.newvaluewidth}if(i.nzHeight>i.nzWidth){i.currentZoomLevel=i.newvaluewidth}}}i.setPosition(i.currentLoc)},closeAll:function(){var f=this;if(f.zoomWindow){f.zoomWindow.hide()}if(f.zoomLens){f.zoomLens.hide()}if(f.zoomTint){f.zoomTint.hide()}},changeState:function(g){var f=this;if(g==="enable"){f.options.zoomEnabled=true}if(g==="disable"){f.options.zoomEnabled=false}},responsiveConfig:function(f){if(f.respond&&f.respond.length>0){return c.extend({},f,this.configByScreenWidth(f))}return f},configByScreenWidth:function(g){var h=c(b).width();var f=c.grep(g.respond,function(j){var i=j.range.split("-");return(h>=i[0])&&(h<=i[1])});if(f.length>0){return f[0]}else{return g}}};c.fn.ezPlus=function(f){return this.each(function(){var g=Object.create(e);g.init(f,this);c.data(this,"ezPlus",g)})};c.fn.ezPlus.options={borderColour:"#888",borderSize:4,constrainSize:false,constrainType:false,containLensZoom:false,cursor:"inherit",debug:false,easing:false,easingAmount:12,enabled:true,gallery:false,galleryActiveClass:"zoomGalleryActive",gallerySelector:false,galleryItem:"a",imageCrossfade:false,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:false,lensFadeOut:false,lensOpacity:0.4,lensShape:"square",lensSize:200,lenszoom:false,loadingIcon:false,mantainZoomAspectRatio:false,maxZoomLevel:false,minZoomLevel:false,onComplete:c.noop,onDestroy:c.noop,onImageClick:c.noop,onImageSwap:c.noop,onImageSwapComplete:c.noop,onShow:c.noop,onZoomedImageLoaded:c.noop,preloading:1,respond:[],responsive:true,scrollZoom:false,scrollZoomIncrement:0.1,showLens:true,tint:false,tintColour:"#333",tintOpacity:0.4,touchEnabled:true,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomLevel:1,zoomTintFadeIn:false,zoomTintFadeOut:false,zoomType:"window",zoomWindowAlwaysShow:false,zoomWindowBgColour:"#fff",zoomWindowFadeIn:false,zoomWindowFadeOut:false,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:true,zIndex:10}})(jQuery,window,document);