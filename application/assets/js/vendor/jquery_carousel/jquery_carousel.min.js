/*!
 * jCarousel Lite - v1.9.3 - 2015-02-16
 * http://kswedberg.github.com/jquery-carousel-lite/
 * Copyright (c) 2015 Karl Swedberg
 * based on the original by Ganeshji Marwaha (gmarwaha.com)
 * Licensed MIT (http://kswedberg.github.com/jquery-carousel-lite/blob/master/LICENSE-MIT)
 */
(function(c){c.jCarouselLite={version:"1.9.3",curr:0};c.fn.anim=typeof c.fn.velocity!=="undefined"?c.fn.velocity:c.fn.animate;c.fn.jCarouselLite=function(e){var g=c.extend(true,{},c.fn.jCarouselLite.defaults,e),f=Math.ceil,d=Math.abs;this.each(function(){var Z,F,J,aa,t,H,o,M,U,z,w,m="ontouchend" in document,C={div:{},ul:{},li:{}},B=false,y=g.vertical?"top":"left",q={},S=g.vertical?"height":"width",Q=g.vertical?"outerHeight":"outerWidth",j=this,X=c(this),K=X.find(g.containerSelector).eq(0),I=K.children(g.itemSelector),h=I.length,E=g.visible,p=f(E),ab=Math.floor(E),x=Math.min(g.start,h-1),l=1,G=0,R={},L={},u={},r=g.vertical?"y":"x",v=g.vertical?"x":"y";var V=g.init.call(this,g,I);if(V===false){return}var n=function(){if(Z&&Z.length){Z.remove();F.remove()}I=K.children(g.liSelector);h=I.length;Z=I.slice(h-p).clone(true).each(a);F=I.slice(0,p).clone(true).each(a);K.prepend(Z).append(F);H=K.children(g.liSelector);o=H.length};X.data("dirjc",l);X.data(y+"jc",X.css(y));if(g.circular){n();x+=p;G=p}else{H=K.children(g.liSelector);o=H.length}if(g.btnGo&&g.btnGo.length){if(c.isArray(g.btnGo)&&typeof g.btnGo[0]==="string"){w=c(g.btnGo.join())}else{w=c(g.btnGo)}w.each(function(ac){c(this).bind("click.jc",function(ad){ad.preventDefault();var i={btnGo:this,btnGoIndex:ac};return k(g.circular?E+ac:ac,i)})});R.go=1}var A=function(ae,ad){ae=f(ae);H.filter("."+g.activeClass).removeClass(g.activeClass);H.eq(ae).addClass(g.activeClass);var af=(ae-G)%h,ac=af+ab;if(ad.go){w.removeClass(g.activeClass).removeClass(g.visibleClass);w.eq(af).addClass(g.activeClass);w.slice(af,af+ab).addClass(g.visibleClass);if(ac>w.length){w.slice(0,ac-w.length).addClass(g.visibleClass)}}if(ad.pager){J.removeClass(g.activeClass);J.eq(f(af/E)).addClass(g.activeClass)}return af};M=x;c.jCarouselLite.curr=M;var s=function(ac){var ae,i,ad;if(ac){C.div[S]="";C.li={width:"",height:""};return C}ae=H[Q](true);i=ae*o;ad=ae*E;C.div[S]=ad+"px";C.ul[S]=i+"px";C.ul[y]=-(M*ae)+"px";C.li={"min-width":H.width(),"min-height":H.height()};C.liSize=ae;return C};var P=function(ad){var ac,ae;var i={div:{visibility:"visible",position:"relative",zIndex:2,left:"0"},ul:{margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1},li:{overflow:g.vertical?"hidden":"visible","float":g.vertical?"none":"left"}};if(ad){ac=s(true);X.css(ac.div);K.css(ac.ul);H.css(ac.li)}ac=s();if(g.autoCSS){c.extend(true,ac,i)}if(g.autoWidth){ae=parseInt(X.css(S),10);C.liSize=ae/g.visible;ac.li[S]=C.liSize-(H[Q](true)-parseInt(H.css(S),10));ac.ul[S]=(C.liSize*o)+"px";ac.ul[y]=-(M*C.liSize)+"px";ac.div[S]=ae}if(g.autoCSS){H.css(ac.li);K.css(ac.ul);X.css(ac.div)}};P();var N=0,D=b(h,g),Y=typeof g.auto==="number"?g.auto:g.scroll;var O=function(){j.setAutoAdvance=setTimeout(function(){if(!D||D>N){l=X.data("dirjc");k(M+(l*Y),{auto:true});N++;O()}},g.timeout)};c.each(["btnPrev","btnNext"],function(i,ac){if(g[ac]){g["$"+ac]=c.isFunction(g[ac])?g[ac].call(X[0]):c(g[ac]);g["$"+ac].bind("click.jc",function(ae){ae.preventDefault();var ad=i===0?M-g.scroll:M+g.scroll;if(g.directional){X.data("dirjc",(i?1:-1))}return k(ad)})}});if(!g.circular){if(g.btnPrev&&x===0){g.$btnPrev.addClass(g.btnDisabledClass)}if(g.btnNext&&x+ab>=o){g.$btnNext.addClass(g.btnDisabledClass)}}if(g.autoPager){aa=f(h/E);J=[];for(var W=0;W<aa;W++){J.push('<li><a href="#">'+(W+1)+"</a></li>")}if(J.length>1){J=c("<ul>"+J.join("")+"</ul>").appendTo(g.autoPager).find("li");J.find("a").each(function(ac){c(this).bind("click.jc",function(ad){ad.preventDefault();var i=ac*E;if(g.circular){i+=E}return k(i)})});R.pager=1}}A(x,R);if(g.mouseWheel&&X.mousewheel){X.bind("mousewheel.jc",function(i,ac){return ac>0?k(M-g.scroll):k(M+g.scroll)})}if(g.pause&&g.auto&&!m){X.bind("mouseenter.jc",function(){X.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){X.trigger("resumeCarousel.jc")})}if(g.auto){O()}function T(){return H.slice(M).slice(0,p)}c.jCarouselLite.vis=T;function k(ag,i){if(B){return false}i=i||{};var ac=M,ae=ag>M,ad=typeof i.speed!=="undefined"?i.speed:g.speed,af=i.offset||0;if(g.beforeStart){g.beforeStart.call(X,T(),ae,i)}if(g.circular){if(ag>M&&ag>o-p){ag=ag-M;M=M%h;ag=M+ag;K.css(y,(-M*C.liSize)-af)}else{if(ag<M&&ag<0){M+=h;ag+=h;K.css(y,(-M*C.liSize)-af)}}M=ag+(ag%1)}else{if(ag<0){ag=0}else{if(ag>o-ab){ag=o-ab}}M=ag;if(M===0&&g.first){g.first.call(this,T(),ae)}if(M===o-ab&&g.last){g.last.call(this,T(),ae)}if(g.btnPrev){g.$btnPrev.toggleClass(g.btnDisabledClass,M===0)}if(g.btnNext){g.$btnNext.toggleClass(g.btnDisabledClass,M===o-ab)}}A(M,R);c.jCarouselLite.curr=M;if(ac===M&&!i.force){if(g.afterEnd){g.afterEnd.call(X,T(),ae,i)}return M}B=true;q[y]=-(M*C.liSize);K.anim(q,ad,g.easing,function(){if(g.afterEnd){g.afterEnd.call(X,T(),ae,i)}B=false});return M}X.bind("go.jc",function(ad,ae,ac){if(typeof ae==="undefined"){ae="+=1"}var i=typeof ae==="string"&&/(\+=|-=)(\d+)/.exec(ae);if(i){ae=i[1]==="-="?M-i[2]*1:M+i[2]*1}else{ae+=x}k(ae,ac)}).bind("startCarousel.jc",function(){clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined;X.trigger("go","+="+g.scroll);O();X.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(i,ad){if(j.setAutoAdvance){return}clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined;var ac=X.data("stoppedjc");if(ad||!ac){O();X.removeData("pausedjc");if(ac){X.removeData("stoppedjc")}}}).bind("pauseCarousel.jc",function(){clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined;X.data("pausedjc",true)}).bind("stopCarousel.jc",function(){clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined;X.data("stoppedjc",true)}).bind("refreshCarousel.jc",function(ac,i){if(i&&g.circular){n()}P(g.autoCSS)}).bind("endCarousel.jc",function(){if(j.setAutoAdvance){clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined}if(g.btnPrev){g.$btnPrev.addClass(g.btnDisabledClass).unbind(".jc")}if(g.btnNext){g.$btnNext.addClass(g.btnDisabledClass).unbind(".jc")}if(g.btnGo){c.each(g.btnGo,function(ac,ad){c(ad).unbind(".jc")})}if(g.circular){H.slice(0,p).remove();H.slice(-p).remove()}c.each([y+"jc","pausedjc","stoppedjc","dirjc"],function(ac,ad){X.removeData(ad)});X.unbind(".jc")});z={touchstart:function(i){u.x=0;u.y=0;L.x=i.targetTouches[0].pageX;L.y=i.targetTouches[0].pageY;L[y]=parseFloat(K.css(y));L.time=+new Date()},touchmove:function(ac){var i=ac.targetTouches.length;if(i===1){u.x=ac.targetTouches[0].pageX;u.y=ac.targetTouches[0].pageY;q[y]=L[y]+(u[r]-L[r]);K.css(q);if(g.preventTouchWindowScroll){ac.preventDefault()}}else{u.x=L.x;u.y=L.y}},touchend:function(){if(!u.x){return}var i=L[r]-u[r],af=d(i),ae=af>g.swipeThresholds[r],ah=d(L[v]-u[v])<g.swipeThresholds[v],ad=+new Date()-L.time,aj=ad<g.swipeThresholds.time,ac=i>0?"+=":"-=",ai=ac+g.scroll,ag={force:true};if(aj&&ae&&ah){ag.speed=g.speed/2}else{if((!aj&&af<C.liSize/2)||!ae||(aj&&!ah)){ai="+=0"}else{if(!aj&&af>C.liSize/2){ai=Math.round(af/C.liSize);ai=ac+(ai>g.visible?g.visible:ai);ag.offset=i}}}X.trigger("go.jc",[ai,ag]);u={}},handle:function(i){i=i.originalEvent;z[i.type](i)}};if(m&&g.swipe){X.bind("touchstart.jc touchmove.jc touchend.jc",z.handle)}if(g.responsive){U=g.autoCSS;c(window).bind("resize",function(){if(U){K.width(K.width()*2);U=false}clearTimeout(t);t=setTimeout(function(){X.trigger("refreshCarousel.jc",[true]);U=g.autoCSS},100)})}});return this};c.fn.jCarouselLite.defaults={containerSelector:"ul",itemSelector:"li",btnPrev:null,btnNext:null,btnGo:null,autoPager:null,btnDisabledClass:"disabled",activeClass:"active",visibleClass:"vis",mouseWheel:false,speed:200,easing:null,timeout:4000,auto:false,directional:false,autoStop:false,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,autoCSS:true,responsive:false,autoWidth:false,swipe:true,swipeThresholds:{x:80,y:40,time:150},preventTouchWindowScroll:true,init:function(){},first:null,last:null,beforeStart:null,afterEnd:null};function b(e,d){return d.autoStop&&(d.circular?d.autoStop:Math.min(e,d.autoStop))}function a(d){if(this.id){this.id+=d}}})(jQuery);