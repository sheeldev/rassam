!function(t,e){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define(["chartist"],function(o){return t["Chartist.plugins.tooltip"]=e(o)}):"object"==typeof module&&module.exports?module.exports=e(require("chartist")):t["Chartist.plugins.tooltip"]=e(t.Chartist)}(this,function(t){return!function(t,e,o){"use strict";var a={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!0,class:void 0,pointClass:"ct-point"};function n(t,e){return(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")>-1}function i(o){if(i in o){var a=o.offsetParent;return a||(a=e.body.parentElement),a}var a=o.parentNode;return a?"static"!==t.getComputedStyle(a).position?a:"BODY"===a.tagName?a.parentElement:i(a):e.body.parentElement}o.plugins=o.plugins||{},o.plugins.tooltip=function(s){return s=o.extend({},a,s),function a(r){var l,p=s.pointClass;r instanceof o.BarChart?p="ct-bar":r instanceof o.PieChart&&(p=r.options.donut?r.options.donutSolid?"ct-slice-donut-solid":"ct-slice-donut":"ct-slice-pie");var c=r.container,f=!1,u=i(c);(l=s.appendToBody?e.querySelector(".chartist-tooltip"):c.querySelector(".chartist-tooltip"))||((l=e.createElement("div")).className=s.class?"chartist-tooltip "+s.class:"chartist-tooltip",s.appendToBody?e.body.appendChild(l):c.appendChild(l));var d=l.offsetHeight,g=l.offsetWidth;function y(t,e,o){c.addEventListener(t,function(t){(!e||n(t.target,e))&&o(t)})}function h(e){d=d||l.offsetHeight;var o=-(g=g||l.offsetWidth)/2+s.tooltipOffset.x,a=-d+s.tooltipOffset.y,n=!0===s.anchorToPoint&&e.target.x2&&e.target.y2;if(!0===s.appendToBody){if(n){var i=c.getBoundingClientRect(),r=e.target.x2.baseVal.value+i.left+t.pageXOffset,p=e.target.y2.baseVal.value+i.top+t.pageYOffset;l.style.left=r+o+"px",l.style.top=p+a+"px"}else l.style.left=e.pageX+o+"px",l.style.top=e.pageY+a+"px"}else{var f=u.getBoundingClientRect(),y=-f.left-t.pageXOffset+o,h=-f.top-t.pageYOffset+a;if(n){var i=c.getBoundingClientRect(),r=e.target.x2.baseVal.value+i.left+t.pageXOffset,p=e.target.y2.baseVal.value+i.top+t.pageYOffset;l.style.left=r+y+"px",l.style.top=p+h+"px"}else l.style.left=e.pageX+y+"px",l.style.top=e.pageY+h+"px"}}function v(t){f=!1;var e=RegExp("tooltip-show\\s*","gi");t.className=t.className.replace(e,"").trim()}v(l),y("mouseover",p,function(t){var a,p=t.target,y="",v=(r instanceof o.PieChart?p:p.parentNode)?p.parentNode.getAttribute("ct:meta")||p.parentNode.getAttribute("ct:series-name"):"",m=p.getAttribute("ct:meta")||v||"",x=!!m,b=p.getAttribute("ct:value");if(s.transformTooltipTextFnc&&"function"==typeof s.transformTooltipTextFnc&&(b=s.transformTooltipTextFnc(b)),s.tooltipFnc&&"function"==typeof s.tooltipFnc)y=s.tooltipFnc(m,b);else{if(s.metaIsHTML){var C=e.createElement("textarea");C.innerHTML=m,m=C.value}if(m='<span class="chartist-tooltip-meta">'+m+"</span>",x)y+=m+"<br>";else if(r instanceof o.PieChart){var T,$=function t(e,o){do e=e.nextSibling;while(e&&!n(e,o));return e}(p,"ct-label");$&&(y+=(T=$,(T.innerText||T.textContent)+"<br>"))}b&&(s.currency&&(b=void 0!=s.currencyFormatCallback?s.currencyFormatCallback(b,s):s.currency+b.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),y+=b='<span class="chartist-tooltip-value">'+b+"</span>")}y&&(l.innerHTML=y,d=l.offsetHeight,g=l.offsetWidth,!0!==s.appendToBody&&(u=i(c)),"absolute"!==l.style.display&&(l.style.display="absolute"),h(t),f=!0,n(a=l,"tooltip-show")||(a.className=a.className+" tooltip-show"),d=l.offsetHeight,g=l.offsetWidth)}),y("mouseout",p,function(){v(l)}),y("mousemove",null,function(t){!1===s.anchorToPoint&&f&&h(t)})}}}(window,document,t),t.plugins.tooltip});