function Sheel_Inline_Edit(){}function _gr(e,n){nt=(remotos=new Sheel_Inline_Edit).send(e,""),fetch_js_object(n).innerHTML=nt}function base64(){}function do_inline_edit(e,n){(elem=fetch_js_object("phrase"+e+"inline")).innerHTML='<input maxlength="140" type="text" value="'+html_entity_decode(n.innerHTML)+'" size="30" onkeypress="return detect_enter(this, event, \''+e+"')\" onblur=\"return detect_blur(this, '"+e+'\')" class="input" />',elem.firstChild.focus()}function detect_enter(e,n,t){return 13!=(n=n||window.event).keyCode||""==e.value||(elem=fetch_js_object("phrase"+t+"inline"),nt=(remotos=new Sheel_Inline_Edit).send(urlBase+t+"&text="+escape(e.value)+"&s="+iL.SESSION+"&token="+iL.TOKEN,""),elem.innerHTML="<span ondblclick=\"do_inline_edit('"+t+"', this);\">"+nt+"</span>",elem.firstChild.innerHTML=nt,!1)}function detect_blur(e,n){if(""!=e.value)return elem=fetch_js_object("phrase"+n+"inline"),nt=(remotos=new Sheel_Inline_Edit).send(urlBase+n+"&text="+escape(e.value)+"&s="+iL.SESSION+"&token="+iL.TOKEN,""),elem.innerHTML="<span ondblclick=\"do_inline_edit('"+n+"', this);\">"+nt+"</span>",elem.firstChild.innerHTML=nt,!1}Sheel_Inline_Edit.prototype.init_edit=function(){try{this._xh=new XMLHttpRequest}catch(e){for(var n=["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=!1,i=0;i<n.length&&!t;i++)try{this._xh=new ActiveXObject(n[i]),t=!0}catch(s){}if(!t)return!1;return!0}},Sheel_Inline_Edit.prototype.busy=function(){return(estadoActual=this._xh.readyState)&&estadoActual<4},Sheel_Inline_Edit.prototype.procesa=function(){4==this._xh.readyState&&200==this._xh.status&&(this.procesado=!0)},Sheel_Inline_Edit.prototype.send=function(e,n){return this._xh||this.init_edit(),!this.busy()&&(this._xh.open("POST",e,!1),this._xh.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._xh.send(n+"&s="+fetch_session_id()),4==this._xh.readyState&&200==this._xh.status)&&this._xh.responseText},base64.chars=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],base64.cadena="",base64.cuenta=0,base64.setCadena=function(e){base64.cadena=e,base64.cuenta=0},base64.read=function(){if(!base64.cadena||base64.cuenta>=base64.cadena.length)return"END_OF_INPUT";var e=255&base64.cadena.charCodeAt(base64.cuenta);return base64.cuenta++,e},base64.prototype.encode=function(e){base64.setCadena(e);for(var n="",t=[,,,],i=0,s=!1;!s&&"END_OF_INPUT"!=(t[0]=base64.read());)t[1]=base64.read(),t[2]=base64.read(),n+=base64.chars[t[0]>>2],"END_OF_INPUT"!=t[1]?(n+=base64.chars[t[0]<<4&48|t[1]>>4],"END_OF_INPUT"!=t[2]?(n+=base64.chars[t[1]<<2&60|t[2]>>6],n+=base64.chars[63&t[2]]):(n+=base64.chars[t[1]<<2&60],n+="=",s=!0)):(n+=base64.chars[t[0]<<4&48],n+="=",n+="=",s=!0),(i+=4)>=76&&(n+="\n",i=0);return n},b64=new base64;